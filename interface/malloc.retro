# Malloc

~~~

{{
  :mem:invoke #15 io:scan-for io:invoke ;

  #0 'ALLOC  const
  #1 'FREE   const
  #2 'STORE  const
  #3 'FETCH  const
  #4 'RESIZE const

---reveal---

  :mem:alloc  (n--aa) ALLOC  mem:invoke ;
  :mem:store  (an--)  STORE  mem:invoke ;
  :mem:fetch  (a--n)  FETCH  mem:invoke ;
  :mem:free   (aa--)  FREE   mem:invoke ;
  :mem:resize (aan--) RESIZE mem:invoke ;
}}

:mem:cell+ (nnn-n) #4 * + ;
:mem:fetch-double (n-nn)
  dup-pair #1 mem:cell+ fetch push mem:fetch pop ;
~~~
